{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import Navbar from'./Navbar';import'./Profile.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Profile(){const[user,setUser]=useState(null);const[userName,setUserName]=useState('');const userEmail='sanjay.kohli21@st.niituniversity.in';useEffect(()=>{fetch(\"http://localhost:4000/login/\".concat(userEmail)).then(response=>response.json()).then(data=>{setUser(data);setUserName(data.name);}).catch(error=>console.error('Error fetching user data:',error));},[userEmail]);const handleNameChange=e=>{setUserName(e.target.value);};const handleNameSubmit=()=>{// Make a PUT request to update the user's name on the server\nfetch(\"http://localhost:4000/updateName/\".concat(user.email),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:userName})}).then(response=>response.json()).then(data=>{setUser(data);console.log('Name updated successfully');}).catch(error=>console.error('Error updating name:',error));};if(!user){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"profile-container\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"profile-title\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Profile\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"profile-form-label\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"profile-form-input\",type:\"text\",value:userName,onChange:handleNameChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"profile-form-label\",children:\"College\"}),/*#__PURE__*/_jsx(\"input\",{className:\"profile-form-input\",type:\"text\",value:user.college,disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"profile-form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"profile-form-input\",type:\"email\",value:user.email,disabled:true})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile-form-button\",onClick:handleNameSubmit,children:\"Update Name\"}),/*#__PURE__*/_jsx(Link,{className:\"profile-form-button\",to:\"/settings\",children:\"Edit Profile\"})]})]});}export default Profile;","map":{"version":3,"names":["React","useState","useEffect","Link","Navbar","jsx","_jsx","jsxs","_jsxs","Profile","user","setUser","userName","setUserName","userEmail","fetch","concat","then","response","json","data","name","catch","error","console","handleNameChange","e","target","value","handleNameSubmit","email","method","headers","body","JSON","stringify","log","children","className","type","onChange","college","disabled","onClick","to"],"sources":["C:/Users/kohli/OneDrive/Documents/Collaborativeinterestapp/VibeTribe/frontend/src/components/Profile.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Navbar from './Navbar';\r\nimport './Profile.css';\r\n\r\nfunction Profile() {\r\n  const [user, setUser] = useState(null);\r\n  const [userName, setUserName] = useState('');\r\n  const userEmail = 'sanjay.kohli21@st.niituniversity.in';\r\n\r\n  useEffect(() => {\r\n    fetch(`http://localhost:4000/login/${userEmail}`)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        setUser(data);\r\n        setUserName(data.name);\r\n      })\r\n      .catch(error => console.error('Error fetching user data:', error));\r\n  }, [userEmail]);\r\n\r\n  const handleNameChange = (e) => {\r\n    setUserName(e.target.value);\r\n  };\r\n\r\n  const handleNameSubmit = () => {\r\n    // Make a PUT request to update the user's name on the server\r\n    fetch(`http://localhost:4000/updateName/${user.email}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ name: userName }),\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        setUser(data);\r\n        console.log('Name updated successfully');\r\n      })\r\n      .catch(error => console.error('Error updating name:', error));\r\n  };\r\n\r\n  if (!user) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"profile-container\">\r\n      <Navbar />\r\n      <div className=\"profile-title\">\r\n        <h3>Profile</h3>\r\n      </div>\r\n      <div className=\"profile-form\">\r\n        <div className=\"profile-form-group\">\r\n          <label className=\"profile-form-label\">Name</label>\r\n          <input\r\n            className=\"profile-form-input\"\r\n            type=\"text\"\r\n            value={userName}\r\n            onChange={handleNameChange}\r\n          />\r\n        </div>\r\n        <div className=\"profile-form-group\">\r\n          <label className=\"profile-form-label\">College</label>\r\n          <input\r\n            className=\"profile-form-input\"\r\n            type=\"text\"\r\n            value={user.college}\r\n            disabled\r\n          />\r\n        </div>\r\n        <div className=\"profile-form-group\">\r\n          <label className=\"profile-form-label\">Email</label>\r\n          <input\r\n            className=\"profile-form-input\"\r\n            type=\"email\"\r\n            value={user.email}\r\n            disabled\r\n          />\r\n        </div>\r\n        <button className=\"profile-form-button\" onClick={handleNameSubmit}>\r\n          Update Name\r\n        </button>\r\n        <Link className=\"profile-form-button\" to=\"/settings\">\r\n          Edit Profile\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}